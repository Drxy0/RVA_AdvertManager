<UserControl x:Class="AdvertManager.Client.Views.AdvertisementFormView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="500" d:DesignWidth="600"
             MinWidth="500" MinHeight="450">

    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Title Label -->
                <RowDefinition Height="Auto"/>
                <!-- Title TextBox -->
                <RowDefinition Height="Auto"/>
                <!-- Title Error -->
                <RowDefinition Height="Auto"/>
                <!-- Description Label -->
                <RowDefinition Height="Auto"/>
                <!-- Description TextBox -->
                <RowDefinition Height="Auto"/>
                <!-- Price Label -->
                <RowDefinition Height="Auto"/>
                <!-- Price TextBox -->
                <RowDefinition Height="Auto"/>
                <!-- Price Error -->

                <RowDefinition Height="Auto"/>
                <!-- Publisher Label -->
                <RowDefinition Height="Auto"/>
                <!-- Publisher ComboBox -->
                <RowDefinition Height="Auto"/>
                <!-- RealEstate Label -->
                <RowDefinition Height="Auto"/>
                <!-- RealEstate ComboBox -->

                <RowDefinition Height="Auto"/>
                <!-- Created Date Label -->
                <RowDefinition Height="Auto"/>
                <!-- Created Date Picker -->
                <RowDefinition Height="Auto"/>
                <!-- Expiration Date Label -->
                <RowDefinition Height="Auto"/>
                <!-- Expiration Date Picker -->
                <RowDefinition Height="Auto"/>
                <!-- Expiration Date Error -->
                <RowDefinition Height="*"/>
                <!-- Spacer -->
                <RowDefinition Height="Auto"/>
                <!-- Buttons -->
            </Grid.RowDefinitions>

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Title -->
            <Label Grid.Row="0" Grid.Column="0" Content="Title:" VerticalAlignment="Center"/>
            <TextBox Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Margin="5,0,5,5" 
                     Text="{Binding Advertisement.Title, UpdateSourceTrigger=PropertyChanged}"/>

            <!-- Title Error -->
            <TextBlock Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" 
                       Text="{Binding TitleError}" 
                       Foreground="Red" 
                       Margin="5,0,5,10"
                       Visibility="{Binding HasTitleError, Converter={StaticResource BooleanToVisibilityConverter}}"
                       TextWrapping="Wrap"/>

            <!-- Description -->
            <Label Grid.Row="3" Grid.Column="0" Content="Description:" VerticalAlignment="Center" Margin="0,10,0,0"/>
            <TextBox Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="2" Margin="5,0,5,5" Height="80" 
                     TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto"
                     Text="{Binding Advertisement.Description, UpdateSourceTrigger=PropertyChanged}"/>

            <!-- Price -->
            <Label Grid.Row="5" Grid.Column="0" Content="Price:" VerticalAlignment="Center" Margin="0,10,0,0"/>
            <TextBox Grid.Row="6" Grid.Column="0" Grid.ColumnSpan="2" Margin="5,0,5,5" 
                     Text="{Binding Advertisement.Price, UpdateSourceTrigger=PropertyChanged}"/>

            <!-- Price Error -->
            <TextBlock Grid.Row="7" Grid.Column="0" Grid.ColumnSpan="2" 
                       Text="{Binding PriceError}" 
                       Foreground="Red" 
                       Margin="5,0,5,10"
                       Visibility="{Binding HasPriceError, Converter={StaticResource BooleanToVisibilityConverter}}"
                       TextWrapping="Wrap"/>

            <!-- Publisher -->
            <Label Grid.Row="8" Grid.Column="0" Content="Publisher:" VerticalAlignment="Center" Margin="0,10,0,0"/>
            <ComboBox Grid.Row="9" Grid.Column="0" Grid.ColumnSpan="2" Margin="5,0,5,5"
              ItemsSource="{Binding Publishers}"
              SelectedItem="{Binding SelectedPublisher, Mode=TwoWay}">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock>
                            <Run Text="{Binding Id}" />
                            <Run Text="-" />
                            <Run Text="{Binding FirstName}" />
                            <Run Text="{Binding LastName}" />
                        </TextBlock>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>

            <!-- RealEstate -->
            <Label Grid.Row="10" Grid.Column="0" Content="Real Estate:" VerticalAlignment="Center" Margin="0,10,0,0"/>
            <ComboBox Grid.Row="11" Grid.Column="0" Grid.ColumnSpan="2" Margin="5,0,5,5"
              ItemsSource="{Binding RealEstates}"
              SelectedItem="{Binding SelectedRealEstate, Mode=TwoWay}">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock>
                            <Run Text="{Binding Id}" />
                            <Run Text="-" />
                            <Run Text="{Binding Type}" />
                            <Run Text="(" />
                            <Run Text="{Binding AreaInSquareMeters}" />
                            <Run Text="m²)" />
                        </TextBlock>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>

            <!-- Created Date -->
            <Label Grid.Row="12" Grid.Column="0" Content="Created Date:" VerticalAlignment="Center" Margin="0,10,0,0"/>
            <DatePicker Grid.Row="13" Grid.Column="0" Grid.ColumnSpan="2" Margin="5,0,5,5" 
                        SelectedDate="{Binding Advertisement.CreatedAt}"/>

            <!-- Expiration Date -->
            <Label Grid.Row="14" Grid.Column="0" Content="Expiration Date:" VerticalAlignment="Center" Margin="0,10,0,0"/>
            <DatePicker Grid.Row="15" Grid.Column="0" Grid.ColumnSpan="2" Margin="5,0,5,5" 
                        SelectedDate="{Binding Advertisement.ExpirationDate}"/>

            <!-- Expiration Date Error -->
            <TextBlock Grid.Row="16" Grid.Column="0" Grid.ColumnSpan="2" 
                       Text="{Binding ExpirationDateError}" 
                       Foreground="Red" 
                       Margin="5,0,5,10"
                       Visibility="{Binding HasExpirationDateError, Converter={StaticResource BooleanToVisibilityConverter}}"
                       TextWrapping="Wrap"/>

            <!-- Buttons -->
            <StackPanel Grid.Row="18" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                <Button Content="Save" Width="80" Margin="5" Command="{Binding SaveCommand}"/>
                <Button Content="Cancel" Width="80" Margin="5" Command="{Binding CancelCommand}"/>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</UserControl>
